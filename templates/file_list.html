{% extends 'base.html' %}

{% block content %}
<h1>{{ heading|default:"Dropbox Clone" }}</h1>

   <h4>Hello, {{ user.username }}.</h4>
   {% if not files %}
   <a class="nav-link" href="/upload/">Upload Files Here</a>
   {% endif %}

   <div class="container">
      <div class="row">

      {% for file in files %}
      <div class="col">
         <span>
         <div class="card" style="width: 20rem;">
            <img src="{{file.upload.url}}" class="card-img-top" alt="{{file.title}}" />
            <div class="card-body">
            <h5 class="card-title"><a href='{{file.upload.url}}'>{{file.title}}</a></h5>
            <p class="card-text">{{file.date_time}}</p>
            <a href="http://127.0.0.1:8000/favorite/{{ file.id }}" class="btn btn-primary btn-sm">Favorite</a>
            <a href="{{file.upload.url}}" download="{{file.upload.url}}" class="btn btn-primary btn-sm">Download</a>
            <form method="post" action="{% url 'delete_file' file.pk %}" style="display: inline;">
               {% csrf_token %}
               <button type="submit" class="btn btn-danger btn-sm">Delete</button></a>
            </form>
            </span>
          </div>

          <div class="w-100"></div>

      {% endfor %}
   </div>
</div>

{% endblock %}
  
<!-- <div class="card" style="width: 18rem;">
   <ul class="list-group list-group-flush">
     <li class="list-group-item">
      <span><img style="width: 25px; height: 25px;"
         alt="Image description"
         src="{{file.upload.url}}"/></span>
      <span><a href='{{file.upload.url}}'>{{file.title}}</a></span>
      <span>{{file.date_time}}</span>
      <span><button type="submit" onclick='location.href="http://127.0.0.1:8000/favorite/{{ file.id }}"'>Favorite</button></span>
     </li>
   </ul>
   </div> -->
